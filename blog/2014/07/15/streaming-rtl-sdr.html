<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Streaming RTL-SDR over HTTP — attac.us</title> <link rel="stylesheet" href="/vendor/syntax.css"> <meta name="twitter:card" content="summary"> <meta property="og:site_name" content="attac.us"> <meta property="og:url" content="https://www.attac.us/blog/2014/07/15/streaming-rtl-sdr.html"> <meta property="og:title" content="Streaming RTL-SDR over HTTP"> <meta property="og:description" content="It's easy to stream MP3 audio from your software-defined radio tuner, even on a netbook."> <meta name="description" content="It's easy to stream MP3 audio from your software-defined radio tuner, even on a netbook."> <meta property="og:image" content="https://www.attac.us/images/rtl-sdr/gqrx.jpg"> <link rel="alternate" href="/feed.xml" type="application/atom+xml" title="Sitewide ATOM Feed"> <style>@font-face{font-family:'Vollkorn';url('https://www.attac.us/vendor/vollkorn/Vollkorn-Regular.woff2') format('woff2'),url('https://www.attac.us/vendor/vollkorn/Vollkorn-Regular.woff') format('woff'),url('https://www.attac.us/vendor/vollkorn/Vollkorn-Regular.ttf') format('truetype');font-weight:400;font-style:normal}@font-face{font-family:'Vollkorn';url('https://www.attac.us/vendor/vollkorn/Vollkorn-Italic.woff2') format('woff2'),url('https://www.attac.us/vendor/vollkorn/Vollkorn-Italic.woff') format('woff'),url('https://www.attac.us/vendor/vollkorn/Vollkorn-Italic.ttf') format('truetype');font-weight:400;font-style:italic}@font-face{font-family:'Vollkorn';url('https://www.attac.us/vendor/vollkorn/Vollkorn-Semibold.woff2') format('woff2'),url('https://www.attac.us/vendor/vollkorn/Vollkorn-Semibold.woff') format('woff'),url('https://www.attac.us/vendor/vollkorn/Vollkorn-Semibold.ttf') format('truetype');font-weight:400;font-style:normal}@font-face{font-family:'Vollkorn';url('https://www.attac.us/vendor/vollkorn/Vollkorn-SemiboldItalic.woff2') format('woff2'),url('https://www.attac.us/vendor/vollkorn/Vollkorn-SemiboldItalic.woff') format('woff'),url('https://www.attac.us/vendor/vollkorn/Vollkorn-SemiboldItalic.ttf') format('truetype');font-weight:600;font-style:italic}body{font:12pt/18pt 'Vollkorn','Georgia',serif}@font-face{font-family:'Roboto';url('https://www.attac.us/vendor/roboto/Roboto-Bold.woff2') format('woff2'),url('https://www.attac.us/vendor/roboto/Roboto-Bold.woff') format('woff'),url('https://www.attac.us/vendor/roboto/Roboto-Bold.ttf') format('truetype');font-weight:700;font-style:normal}h1,h2,h3,header nav,.writing li .title{font-family:Roboto,sans-serif;font-weight:700}@font-face{font-family:'Fira Code';url('https://www.attac.us/vendor/fira/woff2/FiraCode-Regular.woff2') format('woff2'),url('https://www.attac.us/vendor/fira/woff/FiraCode-Regular.woff') format('woff'),url('https://www.attac.us/vendor/fira/ttf/FiraCode-Regular.ttf') format('truetype');font-weight:400;font-style:normal}@font-face{font-family:'Fira Code';url('https://www.attac.us/vendor/fira/woff2/FiraCode-Bold.woff2') format('woff2'),url('https://www.attac.us/vendor/fira/woff/FiraCode-Bold.woff') format('woff'),url('https://www.attac.us/vendor/fira/ttf/FiraCode-Bold.ttf') format('truetype');font-weight:700;font-style:normal}code{font:10pt 'Fira Code','Fira Mono',monospace}body{margin:0 auto;padding:0 1em;max-width:32em;min-width:12em}body>header{margin:1em 0}@media(min-width:40em){body{width:40em}body.frontispice{width:100%;max-width:48em}body.frontispice>header{margin:4em 0 1em 0}}body{background:floralwhite}h1,h1 a,h1 a:link,h1 a link:visited{color:firebrick!important}h2,h3{color:darkslateblue}a:link{color:saddlebrown}a:visited{color:black}p{hyphens:auto}p+p{text-indent:1em}.noindent{text-indent:0}.frontispice h1{font-size:200%}h1{font-size:150%}body>header h1,body>header nav{display:inline-block}body>header nav{font-size:125%;font-weight:bold;font-variant:all-small-caps}body>header nav ul{padding:0}body>header nav ul li{margin:0;display:inline-block}body>header nav ul li:before{content:"|";padding:0 .5em}article.post header{margin-bottom:1em}article.post header>*{margin:.25em 0}nav.writing,article.post{margin:1em 0}p#license,section.comments{margin-top:2em}article.post figure{text-align:center;padding:1em;margin:1em}article.post figure.highlight{text-align:left;padding:.25em 1em}article.post figure img{max-width:100%}pre{line-height:16pt;overflow-x:auto}code{font-feature-settings:"calt" 1;text-rendering:optimizeLegibility;word-break:break-all}.writing{margin-top:5em}.writing ul{list-style:none;margin:0;padding:0}.writing li{margin:1em 0}.writing li .title{font-weight:bold}blockquote{margin:2em .5em;border-left:2px solid #186218;padding:0 1em}.irony{font-family:"Times New Roman",serif;letter-spacing:.03125em;font-size:115%;font-style:italic;padding:.5px .0625em}.irony span{display:inline-block;transform:scale(1) rotate(-7deg) translate(0,0) skew(7deg,0)}.katex{font-size:1.08em!important}aside.jack figure{margin:0 auto 2em auto;max-width:300px}aside.jack figure img{width:100%}figcaption{font-size:75%;line-height:1.2em}@media(min-width:40em){aside.jack figure{position:relative;top:-4.5em;margin:0 0 -2.5em 4em;float:right;max-width:22em;min-width:16em}}body>footer{margin-top:2em;color:#555}</style> </head> <body> <header id="top"> <h1><a href="/">attac.us</a></h1> <nav> <ul> <li><a href="/blog">Blog</a></li> </ul> </nav> </header> <main> <article class="post"> <header> <h2 id="streaming-rtl-sdr-over-http"><a href="/blog/2014/07/15/streaming-rtl-sdr.html">Streaming RTL-SDR over HTTP</a></h2> <p> <time datetime="2014-07-15"> 15 July 2014 </time> </p> </header> <div class="content"> <p>Realtek makes a $20 USB software-defined radio tuner device called an <a href="http://sdr.osmocom.org/trac/wiki/rtl-sdr">RTL2832U</a>-based, also known as an <em>rtl-sdr</em>. This chip was originally used in European TV tuners, but all kinds of demodulation are available in software. Mine has a frequency range of 48 MHz to 863 MHz but the range varies between models.</p> <p>I’ve been using the amazing <a href="http://gqrx.dk/">GQRX</a> graphical program to browse frequencies as well as the <a href="http://kmkeen.com/rtl-demod-guide/"><code class="highlighter-rouge">rtl-fm</code></a> command-line utilities which use way less processing power. On my low-power netbook, <code class="highlighter-rouge">rtl-fm</code> runs pretty much smoothly, and GQRX stutters some.</p> <figure> <img src="/images/rtl-sdr/gqrx.jpg" alt="Screenshot of GQRX"/> <figcaption> <p> GQRX demodulating shortwave radio. The <a href="https://www.youtube.com/watch?v=O9pLDLvOsPk">waterfall display</a> is shown. Image credit: <a href="http://www.flickr.com/photos/csete/9300199921/">Flickr/csete</a>. </p> </figcaption> </figure> <p>The examples on the <code class="highlighter-rouge">rtl-fm</code> page show how to pipe audio data to your speakers, but what I had wanted was to stream this data over my network, and this is the solution I came up with, using shell scripts:</p> <p>I used LAME for mp3 encoding, and VLC for streaming. The settings used here are 320 kB/s and port 8080. I put these aliases into <code class="highlighter-rouge">streaming.sh</code>:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">alias </span><span class="nv">stream8080</span><span class="o">=</span><span class="s1">'cvlc - --sout "#standard{access=http,mux=raw,dst=:8080}"'</span>
<span class="nb">alias </span><span class="nv">mp3encode320</span><span class="o">=</span><span class="s1">'lame -r --signed -m m -s 32000 -q 9 - -'</span></code></pre></figure> <p>I also put some local station shortcuts in there:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">alias </span><span class="nv">wort</span><span class="o">=</span><span class="s1">'rtl_fm -f 89.9M -M wbfm'</span>
<span class="nb">alias </span><span class="nv">wxj87</span><span class="o">=</span><span class="s1">'rtl_fm -f 162.55M -N -s 32k'</span>
<span class="nb">alias </span><span class="nv">police</span><span class="o">=</span><span class="s1">'rtl_fm -f 155.655M -f 857.7125 -f 158.850 -N -s 32k'</span></code></pre></figure> <p>To listen to <a href="http://www.nws.noaa.gov/nwr/coverage/site2.php?State=WI&amp;Site=WXJ87">WXJ87</a>, for example, you could run:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span><span class="nb">source </span>streaming.sh
<span class="gp">$ </span>wxj87 | mp3encode320 | stream8080</code></pre></figure> <p>Now you can use a media player to play your stream at <code class="highlighter-rouge">http://localhost:8080</code>.</p> </div> </article> <div class="comments" role="form"> <h3>Comments</h3> <div id="disqus_thread"></div> <script>
    var disqus_config = function () {
      this.page.url = "https://www.attac.us/blog/2014/07/15/streaming-rtl-sdr.html";
      this.page.identifier = "/blog/2014/07/15/streaming-rtl-sdr";
    };

    (function() {
      var s = document.createElement('script');
      s.src = 'https://attacus.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      document.head.appendChild(s);
    })();
  </script> <noscript> <p> Please enable JavaScript to view the comments powered by Disqus. </p> </noscript> </div> </main> <footer> <p> <small> &copy; 2018 Jack Willis. This website is released under the <a href="https://creativecommons.org/licenses/by-sa/4.0/"><abbr title="Creative Commons Attribution 4.0 International License">CC BY-SA 4.0</abbr></a> license. <a href="/thanks.html">(Thanks to)</a> </small> </p> </footer> </body> </html>