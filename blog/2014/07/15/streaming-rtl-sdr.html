<!DOCTYPE html> <html lang="en-US" prefix="og: http://ogp.me/ns#"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Streaming RTL-SDR over HTTP – attac.us</title> <link rel="icon" href="/favicon.ico"> <meta property="og:site_name" content="attac.us"> <meta property="og:url" content="https://www.attac.us/blog/2014/07/15/streaming-rtl-sdr.html"> <meta property="og:title" content="Streaming RTL-SDR over HTTP – attac.us"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:creator" content="@solstrsyn"> <meta property="og:description" content="It's easy to stream MP3 audio from your software-defined radio tuner, even on a netbook."> <meta property="og:image" content="https://www.attac.us/images/rtl-sdr/gqrx.jpg"> <link rel="alternate" href="/feed.xml" type="application/atom+xml" title="Sitewide ATOM Feed"> <style>@font-face{font-family:"Source Sans Pro";src:local('Source Sans Pro'),url('https://www.attac.us/vendor/sourcesans/SourceSansPro-Regular.ttf.woff2') format('woff2'),url('https://www.attac.us/vendor/sourcesans/SourceSansPro-Regular.ttf.woff2') format('woff');font-weight:400;font-style:normal;font-display:optional}@font-face{font-family:"Source Sans Pro";src:local('Source Sans Pro Italic'),url('https://www.attac.us/vendor/sourcesans/SourceSansPro-It.ttf.woff2') format('woff2'),url('https://www.attac.us/vendor/sourcesans/SourceSansPro-It.ttf.woff2') format('woff');font-weight:400;font-style:italic;font-display:optional}@font-face{font-family:"Source Sans Pro";src:local('Source Sans Pro Semibold'),url('https://www.attac.us/vendor/sourcesans/SourceSansPro-Semibold.ttf.woff2') format('woff2'),url('https://www.attac.us/vendor/sourcesans/SourceSansPro-Semibold.ttf') format('woff');font-weight:600;font-style:normal;font-display:optional}@font-face{font-family:"Source Sans Pro";src:local('Source Sans Pro Bold'),url('https://www.attac.us/vendor/sourcesans/SourceSansPro-Bold.ttf.woff2') format('woff2'),url('https://www.attac.us/vendor/sourcesans/SourceSansPro-Bold.ttf.woff2') format('woff');font-weight:700;font-style:normal;font-display:optional}body{font:400 18px/30px "Source Sans Pro",sans-serif}@font-face{font-family:'Alegreya Sans';src:local('Alegreya Sans ExtraBold'),url('https://www.attac.us/vendor/alegreya/AlegreyaSans-ExtraBold.woff2') format('woff2'),url('https://www.attac.us/vendor/alegreya/AlegreyaSans-ExtraBold.woff') format('woff');font-weight:800;font-style:normal;font-display:fallback}h1,h2,h3,body header nav,.writing li a,.projects dt,.fancy::first-letter {font-family:'Alegreya Sans',"Trebuchet MS",sans-serif;font-weight:800}@font-face{font-family:'Fira Code';src:local('Fira Code Regular'),url('https://www.attac.us/vendor/fira/woff2/FiraCode-Regular.woff2') format('woff2'),url('https://www.attac.us/vendor/fira/woff/FiraCode-Regular.woff') format('woff');font-weight:400;font-style:normal;font-display:optional}@font-face{font-family:'Fira Code';src:local('Fira Code Bold'),url('https://www.attac.us/vendor/fira/woff2/FiraCode-Bold.woff2') format('woff2'),url('https://www.attac.us/vendor/fira/woff/FiraCode-Bold.woff') format('woff');font-weight:700;font-style:normal;font-display:optional}code{font-size:14px;font-family:'Fira Code','Fira Mono',monospace}pre{line-height:20px}figcaption,small{font-size:13px;line-height:16px;font-weight:600}h3{font-size:125%}body{margin:0 auto;padding:1em 2em;max-width:32em;min-width:12em}@media print{body{max-width:inherit}}h1,h1 a,h1 a:link,h1 a:visited{color:#c31010}h2,h3{color:#226841}h3{border-bottom:2px solid}h3[id] a:link,h3[id] a:visited{color:#226841;text-decoration:none;top:2px}h3 a{display:block}blockquote{border-width:1px 0 1px 1px;border-style:solid;border-color:#226841;margin:1.5em 1em;padding:.5em 1em}figure.border img{border:2px solid #226841}a:link{color:#0b4e92}figcaption{color:black}small{color:#4c5c4c}.writing li a,.post header h2 a,.projects dt a,a:visited{color:black}.writing li a,.post header h2 a,.projects dt a{text-decoration:none;background-image:linear-gradient(0,#ffdf00 0,#ffdf00 4px,rgba(0,0,0,0) 4px)}.writing li a:hover,.post header h2 a:hover,.projects dt a:hover{background-image:linear-gradient(0,#888 0,#888 4px,rgba(0,0,0,0) 4px)}section>header h2:before,main>h2:before{width:1.1em;float:left;content:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTc5MiAxNzkyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik00ODQgNjYzbDM2My0yMzBxMzEtMTYgNTMgNmwxMTAgMTEycTEzIDEzIDEzLjUgMzJ0LTExLjUgMzRsLTg0IDEyMWgzMDJxODQgMCAxMzggMzh0NTQgMTEwLTU1IDExMS0xMzkgMzloLTEwNmwtMTMxIDMzOXEtNiAyMS0xOS41IDQxdC0yOC41IDIwSDYwMXEtNyAwLTkwLTgxdC04My05NFY3MzZxMC0xNyAxNC0zNS41dDI4LTI4LjV6bTQ0IDgxdjUwM2wxMDAgODloMjkzbDEzMS0zMzlxNi0yMSAxOS41LTQxdDI4LjUtMjBoMjAzcTIxIDAgMzAuNS0yNXQuNS01MC0zMS0yNUg4MjguNWwtNi0uNS01LTEuNS01LTItNC0yLjUtNC00LTIuNS00LjVxLTEyLTI1IDUtNDdsMTQ2LTE4My04Ni04M3ptLTM1MC04aDEwMHEyMSAwIDM1LjUgMTQuNVQzMjggNzg2djUwMHEwIDIxLTE0LjUgMzUuNVQyNzggMTMzNkgxNzhxLTIxIDAtMzUuNS0xNC41VDEyOCAxMjg2Vjc4NnEwLTIxIDE0LjUtMzUuNVQxNzggNzM2eiIvPjwvc3ZnPg==")}p,figcaption{hyphens:auto;hyphenate-limit-chars:5 3 2}p+p{text-indent:1em}h2+p,h3+p,figure+p,.noindent{text-indent:0}h2+p,h3+p{margin-top:-0.5em}h3{margin-top:1.5em}h2 *{font-size:inherit}body>header h1,body>header nav{display:inline-block}body>header nav{font-size:125%;font-weight:bold;text-transform:lowercase}body>header nav ul{padding:0 .5em}body>header nav ul li{margin:0 .25em;display:inline-block}article header{margin-bottom:2em}nav.writing{margin:1em 0}figure{text-align:center;padding:1em;margin:1em 1em 0 1em}figure.highlight{text-align:left;padding:0 1em;margin:0}figure img{max-width:100%;height:auto}pre{overflow-x:auto}code{font-feature-settings:"calt" 1;word-break:break-all;white-space:pre-wrap;hyphens:auto}dt{margin-top:1em}dd{margin-bottom:1em}footer{margin-top:2em}span.katex{font-size:1em}.fancy::first-letter {font-weight:bold;font-size:200%;margin:.25em;position:relative;top:-0.125em;float:left}.highlight .hll{background-color:#ffc}.highlight .c{color:#408080;font-style:italic}.highlight .err{border:1px solid #f00}.highlight .k{color:#008000;font-weight:bold}.highlight .o{color:#666}.highlight .cm{color:#408080;font-style:italic}.highlight .cp{color:#bc7a00}
.highlight .c1{color:#408080;font-style:italic}.highlight .cs{color:#408080;font-style:italic}.highlight .gd{color:#a00000}.highlight .ge{font-style:italic}.highlight .gr{color:#f00}.highlight .gh{color:#000080;font-weight:bold}.highlight .gi{color:#00a000}.highlight .go{color:#808080}.highlight .gp{color:#000080;font-weight:bold}.highlight .gs{font-weight:bold}.highlight .gu{color:#800080;font-weight:bold}.highlight .gt{color:#0040d0}.highlight .kc{color:#008000;font-weight:bold}.highlight .kd{color:#008000;font-weight:bold}.highlight .kn{color:#008000;font-weight:bold}.highlight .kp{color:#008000}.highlight .kr{color:#008000;font-weight:bold}.highlight .kt{color:#b00040}.highlight .m{color:#666}.highlight .s{color:#ba2121}.highlight .na{color:#7d9029}.highlight .nb{color:#008000}.highlight .nc{color:#00f;font-weight:bold}.highlight .no{color:#800}.highlight .nd{color:#a2f}.highlight .ni{color:#999;font-weight:bold}.highlight .ne{color:#d2413a;font-weight:bold}.highlight .nf{color:#00f}.highlight .nl{color:#a0a000}.highlight .nn{color:#00f;font-weight:bold}.highlight .nt{color:#008000;font-weight:bold}.highlight .nv{color:#19177c}.highlight .ow{color:#a2f;font-weight:bold}.highlight .w{color:#bbb}.highlight .mf{color:#666}.highlight .mh{color:#666}.highlight .mi{color:#666}.highlight .mo{color:#666}.highlight .sb{color:#ba2121}.highlight .sc{color:#ba2121}.highlight .sd{color:#ba2121;font-style:italic}.highlight .s2{color:#ba2121}.highlight .se{color:#b62;font-weight:bold}.highlight .sh{color:#ba2121}.highlight .si{color:#b68;font-weight:bold}.highlight .sx{color:#008000}.highlight .sr{color:#b68}.highlight .s1{color:#ba2121}.highlight .ss{color:#19177c}.highlight .bp{color:#008000}.highlight .vc{color:#19177c}.highlight .vg{color:#19177c}.highlight .vi{color:#19177c}.highlight .il{color:#666}</style> </head> <body> <header id="top"> <h1><a href="/">attac.us</a></h1> <nav> <ul> <li><a href="/blog/">Blog</a></li> <li><a href="/projects.html">Projects</a></li> </ul> </nav> </header> <main> <article class="post"> <header> <h2 id="streaming-rtl-sdr-over-http"><a href="/blog/2014/07/15/streaming-rtl-sdr.html">Streaming RTL-SDR over HTTP</a></h2> </header> <div class="content"> <p> Realtek makes a $20 USB software-defined radio tuner device called an <a href="http://sdr.osmocom.org/trac/wiki/rtl-sdr">RTL2832U</a>, also known as an <em>rtl-sdr</em>. This chip was originally used in European TV tuners, but all kinds of demodulation are available in software. Mine has a frequency range of 48 MHz to 863 MHz but the range varies between models. </p> <p>I’ve been using the amazing <a href="http://gqrx.dk/">GQRX</a> graphical program to browse frequencies as well as the <a href="http://kmkeen.com/rtl-demod-guide/"><em>rtl-fm</em></a> command-line utilities which use way less processing power. On my low-power netbook, <em>rtl-fm</em> runs pretty much smoothly, and GQRX stutters some.</p> <figure> <a href="https://www.flickr.com/photos/csete/9300199921/"> <img src="/images/rtl-sdr/gqrx.jpg" alt="Screenshot of GQRX"/> </a> <figcaption> GQRX demodulating shortwave radio. The <a href="https://www.youtube.com/watch?v=O9pLDLvOsPk">waterfall display</a> is shown. </figcaption> </figure> <p>The examples on the <em>rtl-fm</em> page show how to pipe audio data to your speakers, but what I had wanted was to stream this data over my network. This is the solution I came up with, using shell scripts.</p> <p>I used LAME for mp3 encoding, and VLC for streaming. The settings used here are 320 kB/s and port 8080. I put these aliases into <code class="highlighter-rouge">streaming.sh</code>:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">alias </span><span class="nv">stream8080</span><span class="o">=</span><span class="s1">'cvlc - --sout "#standard{access=http,mux=raw,dst=:8080}"'</span>
<span class="nb">alias </span><span class="nv">mp3encode320</span><span class="o">=</span><span class="s1">'lame -r --signed -m m -s 32000 -q 9 - -'</span></code></pre></figure> <p>I also put some local station shortcuts in there:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">alias </span><span class="nv">wort</span><span class="o">=</span><span class="s1">'rtl_fm -f 89.9M -M wbfm'</span>
<span class="nb">alias </span><span class="nv">wxj87</span><span class="o">=</span><span class="s1">'rtl_fm -f 162.55M -N -s 32k'</span>
<span class="nb">alias </span><span class="nv">police</span><span class="o">=</span><span class="s1">'rtl_fm -f 155.655M -f 857.7125 -f 158.850 -N -s 32k'</span></code></pre></figure> <p>To listen to <a href="http://www.nws.noaa.gov/nwr/coverage/site2.php?State=WI&amp;Site=WXJ87">WXJ87</a>, for example, you could run:</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span><span class="nb">source </span>streaming.sh
<span class="gp">$ </span>wxj87 | mp3encode320 | stream8080</code></pre></figure> <p>Now you can use a media player to play your stream at <code class="highlighter-rouge">http://localhost:8080</code>.</p> </div> </article> <footer> Posted on <time datetime="2014-07-15">15&nbsp;July&nbsp;2014</time>. Updated on <time datetime="2017-12-31">31 December 2017</time>. </footer> </main> <footer> <p> <small> &copy; 2018 Jack Willis. This website is released under the <a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license"><abbr title="Creative Commons Attribution 4.0 International License">CC BY-SA</abbr></a> license. <a href="/thanks.html">(Thanks to&hellip;)</a> </small> </p> </footer> </body> </html>